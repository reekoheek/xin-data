<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript" src="../src/xin.data.js"></script>
    <!--
    <script type="text/javascript" src="../src/adapters/local-storage.js"></script>
    -->
    <script type="text/javascript" src="../src/adapters/memory.js"></script>
    <script type="text/javascript">
        var repo = window.repo = new xin.data.Repository({name: 'record'}, function(err) {
            if (err) throw new Error(err.message);

            // LocalStorage Adapter Implementation
            // repo.remove('2e42b99c-7290-e141-ea71-e656cbd25833', function(err) {
            //     console.log('done');
            // });

            // repo.get('4a8705e2-4afa-9863-6e32-faad31985083', function(err, model) {
            //     model.name = 'adoel';
            //     repo.save(model);
            // });

            // repo.all(function(err, models) {
            //     if (models !== null) {
            //         console.log(models);
            //     };
            // });

            // Memory Adapter Implementation
            repo.save({'name': 'budi', 'age': 16}, function(data) {
                console.log("Saving budi");
            });
            repo.save({'name': 'ani', 'age': 16}, function(data) {
                console.log("Saving ani");
            });
            repo.update({"name": "ani"}, {"name": "banu"}, function() {
                console.log("Updating ani");
            });
            repo.get({'name': 'banu'}, function(data) {
                console.log(data);
            });

        });
    </script>
</body>
</html>
