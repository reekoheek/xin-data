<link rel="import" href="../../bower_components/polymer/polymer.html">

<script type="text/javascript">
(function(root) {
  'use strict';

  Polymer({
    is: 'xin-model',

    properties: {
      find: Object,

      skip: {
        type: Number,
        value: 0,
      },

      entry: {
        type: Object,
        notify: true,
        value: function() {
          return {};
        }
      },

      parameters: {
        type: Object,
        value: function() {
          return {};
        }
      },

      autoFetch: Boolean,

      collection: Object,

    },

    fetch: function() {
      // console.log('x', this.collection.findOne(this.find));
      return this.collection
        .find(this.find)
        .first(this.parameters)
        .then(function(entry) {
          this.set('entry', entry);
          return entry;
        }.bind(this));
    }
  });
})(this);
</script>